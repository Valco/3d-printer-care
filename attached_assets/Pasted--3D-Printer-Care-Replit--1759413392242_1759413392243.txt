# –ü—Ä–æ–º–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É "3D Printer Care" –Ω–∞ Replit

## üéØ –ó–∞–≥–∞–ª—å–Ω–∏–π –æ–ø–∏—Å –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É

–°—Ç–≤–æ—Ä–∏ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è–º 3D-–ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤ –∑ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—î—é –≥—Ä–∞—Ñ—ñ–∫—ñ–≤, –∂—É—Ä–Ω–∞–ª–∞–º–∏ —Ä–æ–±—ñ—Ç, —Å–∏—Å—Ç–µ–º–æ—é –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π —Ç–∞ –≥—Ä—É–ø–æ–≤–∏–º –¥–æ—Å—Ç—É–ø–æ–º.

---

## üìã –¢–µ—Ö–Ω—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **Backend**: Node.js + Express + TypeScript
- **Templating**: EJS (server-side rendering)
- **Database**: PostgreSQL (Replit Database) –∑ Prisma ORM
- **Styling**: PicoCSS (—á–µ—Ä–µ–∑ CDN)
- **Authentication**: express-session + bcrypt
- **Scheduling**: node-cron
- **Validation**: express-validator
- **QR Codes**: qrcode library (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è) + @zxing/library (—Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è)
- **Email**: nodemailer
- **i18n**: i18n (—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–∞ –º–æ–≤–∏)
- **Flash Messages**: connect-flash

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
/server
  /routes       - –ú–∞—Ä—à—Ä—É—Ç–∏ (auth, dashboard, printers, tasks, board, logs, settings, scan, api)
  /middleware   - Authentication —Ç–∞ authorization
  /services     - –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞ (digest notifications, task scheduling)
  app.ts        - Express app configuration
  index.ts      - Server entry point

/views
  /auth         - Login/Register —Å—Ç–æ—Ä—ñ–Ω–∫–∏
  /dashboard    - –ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å
  /printers     - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏
  /tasks        - –ó–∞–≤–¥–∞–Ω–Ω—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è
  /board        - –î–æ—à–∫–∞ –∑–∞–≤–¥–∞–Ω—å
  /logs         - –ñ—É—Ä–Ω–∞–ª–∏ —Ä–æ–±—ñ—Ç
  /settings     - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è (categories, users, groups)
  /scan         - QR-—Å–∫–∞–Ω–µ—Ä
  /partials     - –°–ø—ñ–ª—å–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ (nav, flash-messages)

/prisma
  schema.prisma - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö —Å—Ö–µ–º–∞
  seed.ts       - –¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ

/public
  /css          - Custom styles
  
/locales
  ua.json       - –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏
  en.json       - –ê–Ω–≥–ª—ñ–π—Å—å–∫—ñ –ø–µ—Ä–µ–∫–ª–∞–¥–∏
```

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (Prisma Schema)

### User (–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ)
```prisma
model User {
  id           String   @id @default(uuid())
  name         String
  email        String   @unique
  passwordHash String
  role         String   @default("VIEWER") // ADMIN, OPERATOR, VIEWER
  groupId      String?
  group        UserGroup? @relation(fields: [groupId], references: [id])
  createdAt    DateTime @default(now())
}
```

### UserGroup (–ì—Ä—É–ø–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤)
```prisma
model UserGroup {
  id          String   @id @default(uuid())
  name        String   @unique
  description String?
  users       User[]
  printerAccess PrinterGroupAccess[]
  createdAt   DateTime @default(now())
}
```

### TaskCategory (–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞–≤–¥–∞–Ω—å)
```prisma
model TaskCategory {
  id          String   @id @default(uuid())
  name        String   @unique
  description String?
  tasks       MaintenanceTask[]
  createdAt   DateTime @default(now())
}
```

### Printer (–ü—Ä–∏–Ω—Ç–µ—Ä–∏)
```prisma
model Printer {
  id            String   @id @default(uuid())
  name          String
  model         String?
  serialNumber  String?
  location      String?
  ipAddress     String?
  notes         String?
  visibility    String   @default("PUBLIC") // PUBLIC, RESTRICTED
  printHours    Int      @default(0)
  jobsCount     Int      @default(0)
  schedules     PrinterTaskSchedule[]
  workLogs      WorkLog[]
  groupAccess   PrinterGroupAccess[]
  emailRecipients PrinterEmailRecipient[]
  createdAt     DateTime @default(now())
}
```

### PrinterGroupAccess (–î–æ—Å—Ç—É–ø –≥—Ä—É–ø –¥–æ –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤)
```prisma
model PrinterGroupAccess {
  id        String    @id @default(uuid())
  printerId String
  groupId   String
  printer   Printer   @relation(fields: [printerId], references: [id], onDelete: Cascade)
  group     UserGroup @relation(fields: [groupId], references: [id], onDelete: Cascade)
  createdAt DateTime  @default(now())
  
  @@unique([printerId, groupId])
}
```

### PrinterEmailRecipient (Email –æ—Ç—Ä–∏–º—É–≤–∞—á—ñ –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤)
```prisma
model PrinterEmailRecipient {
  id        String   @id @default(uuid())
  printerId String
  email     String
  printer   Printer  @relation(fields: [printerId], references: [id], onDelete: Cascade)
  createdAt DateTime @default(now())
  
  @@unique([printerId, email])
}
```

### MaintenanceTask (–ó–∞–≤–¥–∞–Ω–Ω—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è)
```prisma
model MaintenanceTask {
  id                  String   @id @default(uuid())
  title               String
  categoryId          String?
  category            TaskCategory? @relation(fields: [categoryId], references: [id])
  intervalType        String   // DAYS, PRINT_HOURS, JOB_COUNT
  intervalValue       Int
  defaultInstructions String?
  priority            Int      @default(5) // 1-10
  schedules           PrinterTaskSchedule[]
  workLogs            WorkLog[]
  createdAt           DateTime @default(now())
}
```

### PrinterTaskSchedule (–ì—Ä–∞—Ñ—ñ–∫–∏ –∑–∞–≤–¥–∞–Ω—å –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤)
```prisma
model PrinterTaskSchedule {
  id              String   @id @default(uuid())
  printerId       String
  taskId          String
  printer         Printer  @relation(fields: [printerId], references: [id], onDelete: Cascade)
  task            MaintenanceTask @relation(fields: [taskId], references: [id], onDelete: Cascade)
  lastCompleted   DateTime?
  nextDue         DateTime?
  isActive        Boolean  @default(true)
  createdAt       DateTime @default(now())
  
  @@unique([printerId, taskId])
}
```

### WorkLog (–ñ—É—Ä–Ω–∞–ª–∏ —Ä–æ–±—ñ—Ç)
```prisma
model WorkLog {
  id                String   @id @default(uuid())
  date              DateTime @default(now())
  printerId         String
  taskId            String?
  printer           Printer  @relation(fields: [printerId], references: [id])
  task              MaintenanceTask? @relation(fields: [taskId], references: [id])
  nozzleSize        String?
  printHoursAtLog   Int?
  jobsCountAtLog    Int?
  details           String?
  performedBy       String?
  createdAt         DateTime @default(now())
}
```

### Notification (–°–∏—Å—Ç–µ–º–Ω—ñ –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó)
```prisma
model Notification {
  id        String   @id @default(uuid())
  type      String   // DIGEST, ALERT
  title     String
  message   String
  sentAt    DateTime @default(now())
  createdAt DateTime @default(now())
}
```

---

## üóÉÔ∏è –¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ (seed.ts)

### 1. –ì—Ä—É–ø–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (4)
```typescript
const groups = [
  { name: "–ê–¥–º—ñ–Ω", description: "–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ —Å–∏—Å—Ç–µ–º–∏" },
  { name: "–¢–µ—Ö–Ω—ñ–∫", description: "–¢–µ—Ö–Ω—ñ—á–Ω—ñ —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∏" },
  { name: "–û–ø–µ—Ä–∞—Ç–æ—Ä", description: "–û–ø–µ—Ä–∞—Ç–æ—Ä–∏ –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤" },
  { name: "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á", description: "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –∑ read-only –¥–æ—Å—Ç—É–ø–æ–º" }
];
```

### 2. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (4) - –ø–∞—Ä–æ–ª—å –¥–ª—è –≤—Å—ñ—Ö: `admin123`
```typescript
const users = [
  { name: "Admin User", email: "admin@example.com", role: "ADMIN", group: "–ê–¥–º—ñ–Ω" },
  { name: "Technician User", email: "technician@example.com", role: "OPERATOR", group: "–¢–µ—Ö–Ω—ñ–∫" },
  { name: "Operator User", email: "operator@example.com", role: "OPERATOR", group: "–û–ø–µ—Ä–∞—Ç–æ—Ä" },
  { name: "Viewer User", email: "viewer@example.com", role: "VIEWER", group: "–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á" }
];
```

### 3. –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞–≤–¥–∞–Ω—å (5)
```typescript
const categories = [
  { name: "–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è", description: "–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" },
  { name: "–û—á–∏—â–µ–Ω–Ω—è", description: "–ü—Ä–æ—Ü–µ–¥—É—Ä–∏ –æ—á–∏—â–µ–Ω–Ω—è" },
  { name: "–ó–º–∞—â—É–≤–∞–Ω–Ω—è", description: "–ó–º–∞—â—É–≤–∞–Ω–Ω—è –º–µ—Ö–∞–Ω—ñ–∑–º—ñ–≤" },
  { name: "–ó–∞–º—ñ–Ω–∞ —á–∞—Å—Ç–∏–Ω", description: "–ó–∞–º—ñ–Ω–∞ –∑–Ω–æ—à–µ–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤" },
  { name: "–û–≥–ª—è–¥", description: "–†–µ–≥—É–ª—è—Ä–Ω—ñ –æ–≥–ª—è–¥–∏" }
];
```

### 4. –ü—Ä–∏–Ω—Ç–µ—Ä–∏ (2)
```typescript
const printers = [
  {
    name: "X1C -002",
    model: "BambuLab X1C",
    serialNumber: "X1C2023-002",
    location: "Lab Room 1",
    ipAddress: "192.168.1.101",
    visibility: "PUBLIC",
    printHours: 1250,
    jobsCount: 420
  },
  {
    name: "A1-001",
    model: "BambuLab A1",
    serialNumber: "A12023-001",
    location: "Lab Room 2",
    ipAddress: "192.168.1.102",
    visibility: "RESTRICTED",
    printHours: 850,
    jobsCount: 310
  }
];
```

### 5. –ó–∞–≤–¥–∞–Ω–Ω—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è (9)
```typescript
const tasks = [
  { title: "–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è —Å—Ç–æ–ª—É", category: "–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è", intervalType: "DAYS", intervalValue: 30, priority: 9 },
  { title: "–û—á–∏—â–µ–Ω–Ω—è –µ–∫—Å—Ç—Ä—É–¥–µ—Ä–∞", category: "–û—á–∏—â–µ–Ω–Ω—è", intervalType: "PRINT_HOURS", intervalValue: 100, priority: 8 },
  { title: "–ó–∞–º—ñ–Ω–∞ —Å–æ–ø–ª–∞", category: "–ó–∞–º—ñ–Ω–∞ —á–∞—Å—Ç–∏–Ω", intervalType: "PRINT_HOURS", intervalValue: 500, priority: 7 },
  { title: "–ó–º–∞—â—É–≤–∞–Ω–Ω—è –æ—Å–µ–π", category: "–ó–º–∞—â—É–≤–∞–Ω–Ω—è", intervalType: "DAYS", intervalValue: 60, priority: 6 },
  { title: "–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ä–µ–º–µ–Ω—ñ–≤", category: "–û–≥–ª—è–¥", intervalType: "DAYS", intervalValue: 90, priority: 5 },
  { title: "–û—á–∏—â–µ–Ω–Ω—è —Å—Ç–æ–ª—É", category: "–û—á–∏—â–µ–Ω–Ω—è", intervalType: "JOB_COUNT", intervalValue: 50, priority: 4 },
  { title: "–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è –ø–æ—Ç–æ–∫—É", category: "–ö–∞–ª—ñ–±—Ä—É–≤–∞–Ω–Ω—è", intervalType: "DAYS", intervalValue: 45, priority: 3 },
  { title: "–ó–∞–º—ñ–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä–∞", category: "–ó–∞–º—ñ–Ω–∞ —á–∞—Å—Ç–∏–Ω", intervalType: "PRINT_HOURS", intervalValue: 300, priority: 2 },
  { title: "–ó–∞–≥–∞–ª—å–Ω–∏–π –æ–≥–ª—è–¥", category: "–û–≥–ª—è–¥", intervalType: "DAYS", intervalValue: 14, priority: 10 }
];
```

### 6. –ì—Ä–∞—Ñ—ñ–∫–∏ –∑–∞–≤–¥–∞–Ω—å
- –ü—Ä–∏–≤'—è–∑–∞—Ç–∏ –≤—Å—ñ 9 –∑–∞–≤–¥–∞–Ω—å –¥–æ –æ–±–æ—Ö –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤
- –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ `lastCompleted` –Ω–∞ 80% –≤—ñ–¥ intervalValue –Ω–∞–∑–∞–¥ (—â–æ–± –¥–µ—è–∫—ñ –±—É–ª–∏ "upcoming")

### 7. Email –æ—Ç—Ä–∏–º—É–≤–∞—á—ñ
- –î–æ–¥–∞—Ç–∏ 2-3 —Ç–µ—Å—Ç–æ–≤—ñ email –∞–¥—Ä–µ—Å–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª

### 1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
- **Register**: –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ name, email, password (–º—ñ–Ω 6 —Å–∏–º–≤–æ–ª—ñ–≤)
  - –ù–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –æ—Ç—Ä–∏–º—É—é—Ç—å —Ä–æ–ª—å VIEWER –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
  - –í–∞–ª—ñ–¥–∞—Ü—ñ—è: email format, password length
  - Error handling –∑ try-catch –±–ª–æ–∫–∞–º–∏
- **Login**: –í—Ö—ñ–¥ –∑ email —Ç–∞ password
  - Bcrypt –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–∞—Ä–æ–ª—é
  - Session management (userId, email, name, role)
  - Flash message –ø—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –≤—Ö–æ–¥—É
  - Error handling –¥–ª—è database —Ç–∞ bcrypt –ø–æ–º–∏–ª–æ–∫
- **Logout**: –ó–Ω–∏—â–µ–Ω–Ω—è —Å–µ—Å—ñ—ó —Ç–∞ redirect –Ω–∞ /login
- **Role-based access**: 
  - ADMIN: –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø
  - OPERATOR: –¥–æ—Å—Ç—É–ø –¥–æ CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π (printers, tasks, logs)
  - VIEWER: —Ç—ñ–ª—å–∫–∏ —á–∏—Ç–∞–Ω–Ω—è (read-only)

### 2. Dashboard (–ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è)
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞**:
  - Total Printers (–∑–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å)
  - Overdue tasks (–ø—Ä–æ—Å—Ç—Ä–æ—á–µ–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è, —á–µ—Ä–≤–æ–Ω–∏–π)
  - Today tasks (–∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ, –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π)
  - Upcoming tasks (–º–∞–π–±—É—Ç–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è, –∑–µ–ª–µ–Ω–∏–π)
- **Quick actions**:
  - "+ Record Work" (—Ç—ñ–ª—å–∫–∏ ADMIN/OPERATOR)
  - "Scan QR" (–≤—Å—ñ —Ä–æ–ª—ñ)
  - "+ New Printer" (—Ç—ñ–ª—å–∫–∏ ADMIN/OPERATOR)
- **Printers list**:
  - –ö–∞—Ä—Ç–∫–∏ –∑ –Ω–∞–∑–≤–æ—é, –º–æ–¥–µ–ª–ª—é, –ª–æ–∫–∞—Ü—ñ—î—é
  - –°—Ç–∞—Ç—É—Å –∑–∞–≤–¥–∞–Ω—å (overdue/today counts)
  - –ß–µ—Ä–≤–æ–Ω–∞ —Ä–∞–º–∫–∞ –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤ –∑ overdue tasks
  - "View Details" –∫–Ω–æ–ø–∫–∞
  - üîí —ñ–∫–æ–Ω–∫–∞ –¥–ª—è RESTRICTED –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤
- **Group-based visibility**:
  - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –±–∞—á–∞—Ç—å —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∏ —Å–≤–æ—î—ó –≥—Ä—É–ø–∏ (—è–∫—â–æ RESTRICTED)
  - PUBLIC –ø—Ä–∏–Ω—Ç–µ—Ä–∏ –±–∞—á–∞—Ç—å –≤—Å—ñ

### 3. Printers (–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏)
- **List view**:
  - –¢–∞–±–ª–∏—Ü—è –∑ –Ω–∞–∑–≤–æ—é, –º–æ–¥–µ–ª–ª—é, –ª–æ–∫–∞—Ü—ñ—î—é, —Å—Ç–∞—Ç—É—Å–æ–º
  - –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ overdue/today tasks –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ
  - –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ visibility –≥—Ä—É–ø–æ—é
- **Create/Edit**:
  - –§–æ—Ä–º–∞: name*, model, serialNumber, location, ipAddress, notes
  - Visibility: PUBLIC / RESTRICTED
  - Print hours, Jobs count (–ª—ñ—á–∏–ª—å–Ω–∏–∫–∏)
  - Group access (–¥–ª—è RESTRICTED –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤)
  - Email recipients (–¥–ª—è –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ–π)
- **Details page**:
  - –û—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
  - QR –∫–æ–¥ (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ qrcode library)
  - –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω–∏—Ö –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –∑–∞–≤–¥–∞–Ω—å –∑ –¥–∞—Ç–∞–º–∏
  - –Ü—Å—Ç–æ—Ä—ñ—è work logs
  - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: print hours, jobs count
- **Delete**: Cascade –≤–∏–¥–∞–ª–µ–Ω–Ω—è schedules, logs, access records

### 4. Tasks (–ó–∞–≤–¥–∞–Ω–Ω—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è)
- **List view**:
  - –¢–∞–±–ª–∏—Ü—è –∑ title, category, interval, priority
  - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ priority (desc), –ø–æ—Ç—ñ–º –∑–∞ title (asc)
- **Create/Edit**:
  - Title* (–Ω–∞–∑–≤–∞)
  - Category (–≤–∏–ø–∞–¥–∞—é—á–∏–π —Å–ø–∏—Å–æ–∫)
  - Interval type: DAYS / PRINT_HOURS / JOB_COUNT
  - Interval value (—á–∏—Å–ª–æ)
  - Priority (1-10, slider –∞–±–æ input)
  - Default instructions (—Ç–µ–∫—Å—Ç–æ–≤–µ –ø–æ–ª–µ)
- **Validation**:
  - Priority: clamp –¥–æ 1-10
  - Interval value: –ø–æ–∑–∏—Ç–∏–≤–Ω–µ —á–∏—Å–ª–æ
- **Delete**: Cascade –≤–∏–¥–∞–ª–µ–Ω–Ω—è schedules —Ç–∞ logs
- **Authorization**: —Ç—ñ–ª—å–∫–∏ ADMIN/OPERATOR

### 5. Task Board (–î–æ—à–∫–∞ –∑–∞–≤–¥–∞–Ω—å)
- **–§—ñ–ª—å—Ç—Ä–∏**:
  - –ó–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º (dropdown)
  - –ó–∞ —Å—Ç–∞—Ç—É—Å–æ–º: All / Overdue / Today / Upcoming
  - –ó–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—î—é (—è–∫—â–æ —î)
- **–°–ø–∏—Å–æ–∫ –∑–∞–≤–¥–∞–Ω—å**:
  - Printer name + Task title
  - Last completed date
  - Next due date
  - –°—Ç–∞—Ç—É—Å (overdue - —á–µ—Ä–≤–æ–Ω–∏–π, today - –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π, upcoming - –∑–µ–ª–µ–Ω–∏–π)
  - "Complete" –∫–Ω–æ–ø–∫–∞ (—Ç—ñ–ª—å–∫–∏ ADMIN/OPERATOR)
- **Complete action**:
  - –í—ñ–¥–∫—Ä–∏—Ç–∏ Quick Complete modal –∞–±–æ redirect –Ω–∞ /logs/new
  - –û–Ω–æ–≤–∏—Ç–∏ lastCompleted —Ç–∞ nextDue –¥–∞—Ç–∏
  - –û–Ω–æ–≤–∏—Ç–∏ printHours/jobsCount —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ

### 6. Work Logs (–ñ—É—Ä–Ω–∞–ª–∏ —Ä–æ–±—ñ—Ç)
- **List view**:
  - –¢–∞–±–ª–∏—Ü—è: –¥–∞—Ç–∞, –ø—Ä–∏–Ω—Ç–µ—Ä, –∑–∞–≤–¥–∞–Ω–Ω—è, –≤–∏–∫–æ–Ω–∞–≤–µ—Ü—å, –¥–µ—Ç–∞–ª—ñ
  - –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ –¥–∞—Ç–æ—é (desc)
  - –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–º
- **Create**:
  - Date (datetime picker, default: now)
  - Printer* (dropdown)
  - Task (dropdown –∑ –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏ —Ü—å–æ–≥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞)
  - Nozzle size (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
  - Print hours at log (–∞–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∑ printer.printHours)
  - Jobs count at log (–∞–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∑ printer.jobsCount)
  - Details (textarea)
  - Performed by (—Ç–µ–∫—Å—Ç, –∞–≤—Ç–æ–∑–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –∑ user.name)
- **–õ–æ–≥—ñ–∫–∞**:
  - –û–Ω–æ–≤–∏—Ç–∏ schedule.lastCompleted
  - –ü–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏ schedule.nextDue –Ω–∞ –æ—Å–Ω–æ–≤—ñ intervalType:
    - DAYS: lastCompleted + intervalValue days
    - PRINT_HOURS: –∫–æ–ª–∏ printer.printHours >= (printHoursAtLog + intervalValue)
    - JOB_COUNT: –∫–æ–ª–∏ printer.jobsCount >= (jobsCountAtLog + intervalValue)
  - –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ printer.printHours —Ç–∞ printer.jobsCount
- **Delete**: —Ç—ñ–ª—å–∫–∏ ADMIN
- **Authorization**: ADMIN/OPERATOR –¥–ª—è create/edit

### 7. Settings (–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è) - —Ç—ñ–ª—å–∫–∏ ADMIN
- **Task Categories**:
  - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
  - Name*, description
  - –ü–æ–∫–∞–∑–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–≤–¥–∞–Ω—å –≤ –∫–æ–∂–Ω—ñ–π –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- **Users**:
  - List: name, email, role, group
  - Create/Edit: name*, email*, password (—Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ create), role, group
  - Delete (–Ω–µ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ —Å–µ–±–µ)
  - Password: bcrypt hash
- **User Groups**:
  - CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó
  - Name*, description
  - –ü–æ–∫–∞–∑–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤ –≥—Ä—É–ø—ñ
  - –ù–µ –º–æ–∂–Ω–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –≥—Ä—É–ø—É –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏
- **Authorization**: —Ç—ñ–ª—å–∫–∏ ADMIN –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ /settings

### 8. QR Scanner (–°–∫–∞–Ω—É–≤–∞–Ω–Ω—è QR)
- **Camera integration**:
  - @zxing/library –¥–ª—è browser-based scanning
  - Video preview –∑ camera
  - Scan overlay (–∑–µ–ª–µ–Ω–∞ —Ä–∞–º–∫–∞ 250x250px)
- **Controls**:
  - "Start Scanning" –∫–Ω–æ–ø–∫–∞
  - "Stop" –∫–Ω–æ–ø–∫–∞ (–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è)
  - "Back to Dashboard" link
- **Scan logic**:
  - Detect QR code –∑ URL pattern `/printers/:id`
  - Success message: "Printer Found: {id}"
  - Auto-redirect –¥–æ /printers/:id —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
  - Error handling –¥–ª—è camera permissions
  - Invalid QR message –¥–ª—è –Ω–µ-printer –∫–æ–¥—ñ–≤
- **i18n**: –≤—Å—ñ —Ç–µ–∫—Å—Ç–∏ –ø–µ—Ä–µ–∫–ª–∞–¥–µ–Ω—ñ (ua/en)
- **data-testid**: –≤—Å—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏

### 9. Email Notifications
- **Daily digest** (9:00 AM —á–µ—Ä–µ–∑ node-cron):
  - –ó–±–∏—Ä–∞—î overdue —Ç–∞ today tasks
  - –ù–∞–¥—Å–∏–ª–∞—î –Ω–∞ email recipients –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
  - –ì—Ä—É–ø—É—î –ø–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞—Ö
  - –ó–±–µ—Ä—ñ–≥–∞—î –≤ Notification table
- **Manual trigger**: /api/admin/run-digest (—Ç—ñ–ª—å–∫–∏ ADMIN)
- **SMTP configuration** (env vars):
  - SMTP_HOST, SMTP_PORT, SMTP_USER, SMTP_PASS, SMTP_FROM
  - Graceful fallback —è–∫—â–æ SMTP –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ

### 10. Data Export
- **JSON export**: /printers/export/json
- **CSV export**: /printers/export/csv
- –í–∫–ª—é—á–∞—î: printers, tasks, schedules, work logs
- Authorization: —Ç—ñ–ª—å–∫–∏ ADMIN/OPERATOR

### 11. Flash Messages System
- **connect-flash** middleware
- **Types**: success, error, info
- **Locations**:
  - –ü—ñ—Å–ª—è CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π (create, update, delete)
  - –ü—ñ—Å–ª—è login/register
  - –ü—ñ—Å–ª—è email operations
- **UI**: views/partials/flash-messages.ejs
  - Animated slide-in
  - Auto-dismiss —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
  - –†—ñ–∑–Ω—ñ –∫–æ–ª—å–æ—Ä–∏ –ø–æ —Ç–∏–ø—É
- **Integration**: –≤–∫–ª—é—á–µ–Ω–æ –≤ —É—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ pages

### 12. Dark/Light Theme Toggle
- **Toggle button** –≤ navigation (üåô / ‚òÄÔ∏è icons)
- **localStorage** persistence: –∑–±–µ—Ä—ñ–≥–∞—î –≤–∏–±—ñ—Ä —Ç–µ–º–∏
- **PicoCSS** data-theme="light|dark" switching
- **Implementation**:
  - Inline script –≤ nav.ejs —Ç–∞ layout.ejs
  - –†—ñ–∑–Ω—ñ id –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤
  - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ —Å—Ç–æ—Ä—ñ–Ω–∫–∏

### 13. Internationalization (i18n)
- **i18n middleware**: defaultLocale 'ua', locales ['ua', 'en']
- **Cookie persistence**: –∑–±–µ—Ä—ñ–≥–∞—î –≤–∏–±—ñ—Ä –º–æ–≤–∏ –≤ cookie 'lang'
- **Language toggle**: –∫–Ω–æ–ø–∫–∞ –≤ navigation (UA / EN)
- **POST /api/change-language**: endpoint –¥–ª—è –∑–º—ñ–Ω–∏ –º–æ–≤–∏
  - CSRF token –∑–∞—Ö–∏—Å—Ç
  - Cookie + setLocale
  - Page reload –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏
- **Translations**:
  - locales/ua.json: –≤—Å—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ç–µ–∫—Å—Ç–∏
  - locales/en.json: –≤—Å—ñ –∞–Ω–≥–ª—ñ–π—Å—å–∫—ñ —Ç–µ–∫—Å—Ç–∏
  - –û—Ö–æ–ø–ª–µ–Ω–Ω—è: navigation, dashboard, printers, scan, common, auth, roles
- **Views**: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `<%= __('key') %>` –¥–ª—è –ø–µ—Ä–µ–∫–ª–∞–¥—ñ–≤

### 14. Responsive Design
- **Breakpoints**:
  - Mobile: <768px (1 column)
  - Tablet: 768-992px (2 columns)
  - Desktop: >992px (3 columns)
- **Mobile optimizations**:
  - Stack action buttons vertically
  - Full-width touch targets
  - Remove max-height constraints
  - Flex-wrap –¥–ª—è headers
- **CSS**: custom.css –∑ media queries

---

## üé® UI/UX –≤–∏–º–æ–≥–∏

### Styling
- **PicoCSS framework** —á–µ—Ä–µ–∑ CDN (–≤–µ—Ä—Å—ñ—è 2)
- **Custom CSS** –≤ public/css/custom.css –¥–ª—è:
  - Responsive grids (.printers-grid, .cards-grid)
  - Flash messages animations
  - Mobile breakpoints
  - Dark/light theme adjustments

### Navigation
- **Sticky header** –∑ nav links:
  - App name (–∑–ª—ñ–≤–∞)
  - Dashboard, Printers, Tasks, Task Board, Scan QR, Settings (—Ü–µ–Ω—Ç—Ä)
  - Theme toggle (üåô/‚òÄÔ∏è)
  - Language toggle (UA/EN)
  - User dropdown (–ø—Ä–∞–≤–æ—Ä—É—á): role + logout
- **Active link** highlighting
- **Conditional links**: Settings —Ç—ñ–ª—å–∫–∏ –¥–ª—è ADMIN

### Forms
- **Validation messages**: inline errors –ø—ñ–¥ –ø–æ–ª—è–º–∏
- **Required fields**: –ø–æ–∑–Ω–∞—á–µ–Ω—ñ *
- **Placeholders**: –¥–æ–ø–æ–º—ñ–∂–Ω—ñ —Ç–µ–∫—Å—Ç–∏
- **Buttons**: 
  - Primary –¥–ª—è submit
  - Secondary –¥–ª—è cancel
  - Danger –¥–ª—è delete (–∑ confirm dialog)

### Status colors
- **Overdue**: —á–µ—Ä–≤–æ–Ω–∏–π (var(--pico-del-color))
- **Today**: –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π (var(--pico-color-amber-500))
- **Upcoming**: –∑–µ–ª–µ–Ω–∏–π (var(--pico-ins-color))
- **Restricted**: üîí —ñ–∫–æ–Ω–∫–∞

### Empty states
- **No data messages**: "No printers found", "Create your first printer"
- **Conditional buttons**: —Ç—ñ–ª—å–∫–∏ –¥–ª—è ADMIN/OPERATOR
- **Helpful hints**: "You need ADMIN access to manage settings"

---

## üß™ –¢–µ—Å—Ç–æ–≤—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó

### –¢–µ—Å—Ç 1: –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É login/logout

**–ö—Ä–æ–∫–∏**:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ /login
2. –í–≤–µ—Å—Ç–∏: admin@example.com / admin123
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Login"
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –Ω–∞ /dashboard
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: flash message "–í—ñ—Ç–∞—î–º–æ, Admin User!"
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: user dropdown –ø–æ–∫–∞–∑—É—î "Admin User" + "Administrator"
7. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ logout –≤ dropdown
8. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –Ω–∞ /login

**–ù–µ–≥–∞—Ç–∏–≤–Ω–∏–π —Ç–µ—Å—Ç**:
1. –í–≤–µ—Å—Ç–∏ –Ω–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å: admin@example.com / wrongpass
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –∑–∞–ª–∏—à–∏–ª–∏—Å—è –Ω–∞ /login
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: error message "Invalid email or password"
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –Ω–µ–º–∞—î 500 Internal Server Error

---

### –¢–µ—Å—Ç 2: Role-based Access (VIEWER)
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ read-only –¥–æ—Å—Ç—É–ø –¥–ª—è VIEWER

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ viewer@example.com / admin123
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /dashboard
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –Ω–µ–º–∞—î –∫–Ω–æ–ø–æ–∫ "+ Record Work", "+ New Printer"
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —î –∫–Ω–æ–ø–∫–∞ "Scan QR" (–¥–æ—Å—Ç—É–ø–Ω–∞ –≤—Å—ñ–º)
5. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /printers
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –Ω–µ–º–∞—î –∫–Ω–æ–ø–∫–∏ "+ New Printer"
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –Ω–µ–º–∞—î –∫–Ω–æ–ø–æ–∫ "Edit" / "Delete" –≤ —Ç–∞–±–ª–∏—Ü—ñ
8. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ /printers/new –Ω–∞–ø—Ä—è–º—É (URL)
9. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –∞–±–æ 403 Forbidden
10. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ /settings
11. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –∞–±–æ 403 Forbidden

---

### –¢–µ—Å—Ç 3: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞ (ADMIN/OPERATOR)
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ CRUD –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com / admin123
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /printers
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "+ New Printer"
4. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ñ–æ—Ä–º—É:
   - Name: "Test Printer 001"
   - Model: "Creality Ender 3"
   - Location: "Lab Room 3"
   - Visibility: "PUBLIC"
5. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Create Printer"
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –Ω–∞ /printers
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: flash message "Printer created successfully"
8. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –Ω–æ–≤–∏–π –ø—Ä–∏–Ω—Ç–µ—Ä –≤ —Å–ø–∏—Å–∫—É
9. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "View Details" –Ω–∞ –Ω–æ–≤–æ–º—É –ø—Ä–∏–Ω—Ç–µ—Ä—ñ
10. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è QR –∫–æ–¥
11. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –æ—Å–Ω–æ–≤–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
12. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Edit"
13. –ó–º—ñ–Ω–∏—Ç–∏ Name –Ω–∞ "Test Printer 002"
14. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Update"
15. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: flash message "Printer updated successfully"
16. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –æ–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞–∑–≤–∞ –≤ —Å–ø–∏—Å–∫—É

---

### –¢–µ—Å—Ç 4: Task Scheduling
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –∑–∞–≤–¥–∞–Ω—å

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /tasks
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Å–ø–∏—Å–æ–∫ 9 –∑–∞–≤–¥–∞–Ω—å
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∑–∞ priority (desc)
5. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –Ω–∞ –ø–µ—Ä—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è (–Ω–∞–π–≤–∏—â–∏–π priority)
6. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /printers —Ç–∞ –æ–±—Ä–∞—Ç–∏ X1C-002
7. –ù–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –ø–µ—Ä–µ–π—Ç–∏ –¥–æ "Task Schedules"
8. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –º–∞—î status "Upcoming"
9. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ø—Ä–∏–Ω–∞–π–º–Ω—ñ –æ–¥–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –ø–æ–∫–∞–∑—É—î "Next Due" –¥–∞—Ç—É
10. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /board (Task Board)
11. –í–∏–±—Ä–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä "Overdue" (—è–∫—â–æ —î overdue tasks)
12. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ overdue –∑–∞–≤–¥–∞–Ω–Ω—è —á–µ—Ä–≤–æ–Ω–∏–º

---

### –¢–µ—Å—Ç 5: Work Log Recording
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∑–∞–ø–∏—Å —Ä–æ–±—ñ—Ç —Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ–∫—ñ–≤

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ technician@example.com / admin123
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /logs/new –∞–±–æ –Ω–∞—Ç–∏—Å–Ω—É—Ç–∏ "+ Record Work" –Ω–∞ dashboard
3. –ó–∞–ø–æ–≤–Ω–∏—Ç–∏ —Ñ–æ—Ä–º—É:
   - Printer: "X1C-002"
   - Task: "–û—á–∏—â–µ–Ω–Ω—è –µ–∫—Å—Ç—Ä—É–¥–µ—Ä–∞"
   - Nozzle size: "0.4mm"
   - Details: "–í–∏–∫–æ–Ω–∞–Ω–æ –ø–ª–∞–Ω–æ–≤–µ –æ—á–∏—â–µ–Ω–Ω—è"
4. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Save Work Log"
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –Ω–∞ /logs
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: flash message "Work log created successfully"
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å –≤ —Ç–∞–±–ª–∏—Ü—ñ
8. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /printers ‚Üí X1C-002 details
9. –ü–µ—Ä–µ–π—Ç–∏ –¥–æ "Task Schedules"
10. –ó–Ω–∞–π—Ç–∏ "–û—á–∏—â–µ–Ω–Ω—è –µ–∫—Å—Ç—Ä—É–¥–µ—Ä–∞"
11. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: "Last Completed" –æ–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ —Å—å–æ–≥–æ–¥–Ω—ñ—à–Ω—é –¥–∞—Ç—É
12. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: "Next Due" –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤–∞–Ω–æ (lastCompleted + intervalValue)

---

### –¢–µ—Å—Ç 6: Group-based Visibility
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ RESTRICTED –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤

**Setup**: 
- –ü—Ä–∏–Ω—Ç–µ—Ä A1-001 –º–∞—î visibility="RESTRICTED"
- –ì—Ä—É–ø–∞ "–¢–µ—Ö–Ω—ñ–∫" –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ A1-001
- –ì—Ä—É–ø–∞ "–û–ø–µ—Ä–∞—Ç–æ—Ä" –ù–ï –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ A1-001

**–ö—Ä–æ–∫–∏ 1** (Technician - –º–∞—î –¥–æ—Å—Ç—É–ø):
1. Login —è–∫ technician@example.com / admin123
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /dashboard
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: A1-001 –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫—É –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: üîí —ñ–∫–æ–Ω–∫–∞ –ø—Ä–∏—Å—É—Ç–Ω—è (RESTRICTED)
5. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "View Details" –Ω–∞ A1-001
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –º–æ–∂–Ω–∞ –ø–æ–±–∞—á–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ

**–ö—Ä–æ–∫–∏ 2** (Operator - –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É):
1. Logout —Ç–∞ login —è–∫ operator@example.com / admin123
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /dashboard
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: A1-001 –ù–ï –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫—É
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: X1C-002 (PUBLIC) –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è
5. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ /printers/{A1-001-id} –Ω–∞–ø—Ä—è–º—É (URL)
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –∞–±–æ 403 Forbidden

---

### –¢–µ—Å—Ç 7: QR Scanner
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª QR —Å–∫–∞–Ω–µ—Ä–∞

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /scan
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: H1 "QR Code Scanner" (EN) –∞–±–æ "–°–∫–∞–Ω–µ—Ä QR-–∫–æ–¥—ñ–≤" (UA)
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: description —Ç–µ–∫—Å—Ç –ø—Ä–∏—Å—É—Ç–Ω—ñ–π
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –∫–Ω–æ–ø–∫–∞ "Start Scanning" –ø—Ä–∏—Å—É—Ç–Ω—è
6. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Start Scanning"
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: video element –∑'—è–≤–ª—è—î—Ç—å—Å—è
8. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –∫–Ω–æ–ø–∫–∞ "Stop" –∑'—è–≤–ª—è—î—Ç—å—Å—è
9. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –∑–µ–ª–µ–Ω–∏–π scan overlay (250x250px) –ø—Ä–∏—Å—É—Ç–Ω—ñ–π
10. (–ú–∞–Ω—É–∞–ª—å–Ω–æ) –ü–æ–∫–∞–∑–∞—Ç–∏ QR –∫–æ–¥ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ (–∑ /printers/{id} details)
11. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: success message "Printer Found: {id}"
12. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: auto-redirect –Ω–∞ /printers/{id} —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É

**–ù–µ–≥–∞—Ç–∏–≤–Ω–∏–π —Ç–µ—Å—Ç**:
1. –ü–æ–∫–∞–∑–∞—Ç–∏ –Ω–µ–¥—ñ–π—Å–Ω–∏–π QR –∫–æ–¥ (–Ω–µ printer URL)
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: error message "Invalid QR Code: {text}"
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –∑–∞–ª–∏—à–∏–ª–∏—Å—è –Ω–∞ /scan

---

### –¢–µ—Å—Ç 8: Flash Messages
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É flash –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: success flash "–í—ñ—Ç–∞—î–º–æ, Admin User!" –Ω–∞ dashboard
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: flash –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∏–∫–∞—î —á–µ—Ä–µ–∑ ~5 —Å–µ–∫—É–Ω–¥
4. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /settings ‚Üí Task Categories
5. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é "–¢–µ—Å—Ç–æ–≤–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è"
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: success flash "Category created successfully"
7. –í–∏–¥–∞–ª–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é
8. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: success flash "Category deleted successfully"
9. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä—ñ—é –∑ –ø–æ—Ä–æ–∂–Ω—å–æ—é –Ω–∞–∑–≤–æ—é
10. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: error flash –∞–±–æ inline error

---

### –¢–µ—Å—Ç 9: Dark/Light Theme
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ç–µ–º–∏

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: default theme (light –∞–±–æ dark –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ system preference)
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ theme toggle –≤ navigation (üåô –∞–±–æ ‚òÄÔ∏è —ñ–∫–æ–Ω–∫–∞)
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Ç–µ–º–∞ –∑–º—ñ–Ω–∏–ª–∞—Å—è (data-theme="light" ‚Üî "dark")
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —ñ–∫–æ–Ω–∫–∞ –∑–º—ñ–Ω–∏–ª–∞—Å—è (üåô ‚Üî ‚òÄÔ∏è)
6. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —ñ–Ω—à—É —Å—Ç–æ—Ä—ñ–Ω–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, /printers)
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Ç–µ–º–∞ –∑–±–µ—Ä—ñ–≥–ª–∞—Å—è (localStorage persistence)
8. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ theme toggle –∑–Ω–æ–≤—É
9. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Ç–µ–º–∞ –ø–æ–≤–µ—Ä–Ω—É–ª–∞—Å—è –Ω–∞–∑–∞–¥
10. –ó–∞–∫—Ä–∏—Ç–∏ —Ç–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä
11. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –≤–∏–±—Ä–∞–Ω–∞ —Ç–µ–º–∞ –∑–∞–ª–∏—à–∏–ª–∞—Å—è

---

### –¢–µ—Å—Ç 10: Internationalization (i18n)
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –±–∞–≥–∞—Ç–æ–º–æ–≤–Ω–æ—Å—Ç—ñ

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: default –º–æ–≤–∞ Ukrainian (nav links, dashboard —Ç–µ–∫—Å—Ç–∏)
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: navigation –ø–æ–∫–∞–∑—É—î "–ü–∞–Ω–µ–ª—å –∫–µ—Ä—É–≤–∞–Ω–Ω—è", "–ü—Ä–∏–Ω—Ç–µ—Ä–∏", —ñ —Ç.–¥.
4. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ language toggle (UA ‚Üí EN)
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: page reload
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: navigation –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é: "Dashboard", "Printers", "Tasks"
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: H1 –Ω–∞ dashboard: "Dashboard"
8. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: user role: "Administrator" (–∑–∞–º—ñ—Å—Ç—å "–ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä")
9. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /printers
10. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: H1 "Printers", –∫–Ω–æ–ø–∫–∞ "+ New Printer"
11. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /scan
12. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: H1 "QR Code Scanner", –∫–Ω–æ–ø–∫–∞ "Start Scanning"
13. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ language toggle (EN ‚Üí UA)
14. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –≤—Å–µ –ø–æ–≤–µ—Ä–Ω—É–ª–æ—Å—è –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É
15. –ó–∞–∫—Ä–∏—Ç–∏ —Ç–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏ –±—Ä–∞—É–∑–µ—Ä
16. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –º–æ–≤–∞ –∑–±–µ—Ä—ñ–≥–ª–∞—Å—è (cookie persistence)

---

### –¢–µ—Å—Ç 11: Settings (ADMIN only)
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å

**–ö—Ä–æ–∫–∏ 1** (ADMIN - –º–∞—î –¥–æ—Å—Ç—É–ø):
1. Login —è–∫ admin@example.com
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /settings
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: tabs "Task Categories", "Users", "User Groups"
4. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ "Task Categories"
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Å–ø–∏—Å–æ–∫ 5 –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
6. –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –∫–∞—Ç–µ–≥–æ—Ä—ñ—é "Test Category"
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: flash message "Category created"
8. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ "Users"
9. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Å–ø–∏—Å–æ–∫ 4 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
10. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Edit" –Ω–∞ viewer@example.com
11. –ó–º—ñ–Ω–∏—Ç–∏ role –Ω–∞ "OPERATOR"
12. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: flash message "User updated"
13. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ "User Groups"
14. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Å–ø–∏—Å–æ–∫ 4 –≥—Ä—É–ø
15. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ –Ω–∞ –≥—Ä—É–ø—É "–û–ø–µ—Ä–∞—Ç–æ—Ä"
16. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –≤ –≥—Ä—É–ø—ñ

**–ö—Ä–æ–∫–∏ 2** (OPERATOR - –Ω–µ–º–∞—î –¥–æ—Å—Ç—É–ø—É):
1. Logout —Ç–∞ login —è–∫ operator@example.com
2. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –≤ navigation –Ω–µ–º–∞—î link "Settings"
3. –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç–∏ /settings –Ω–∞–ø—Ä—è–º—É (URL)
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: redirect –Ω–∞ /dashboard –∞–±–æ 403 Forbidden

---

### –¢–µ—Å—Ç 12: Email Digest (Manual Trigger)
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ email –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó

**Prerequisite**: –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ SMTP –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ mock/log —Ä–µ–∂–∏–º

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ overdue task (–≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ lastCompleted —É –º–∏–Ω—É–ª–µ, nextDue < today)
3. –î–æ–¥–∞—Ç–∏ email recipient –¥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ –∑ overdue task
4. –í—ñ–¥–∫—Ä–∏—Ç–∏ DevTools ‚Üí Network tab
5. –í–∏–∫–ª–∏–∫–∞—Ç–∏ /api/admin/run-digest (–º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ fetch —É console)
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: response 200 OK
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: JSON response –º—ñ—Å—Ç–∏—Ç—å overdue —Ç–∞ dueToday counts
8. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –≤ Notification table –∑'—è–≤–∏–≤—Å—è –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å (type: "DIGEST")
9. (–Ø–∫—â–æ SMTP –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ) –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ email inbox
10. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ª–∏—Å—Ç –æ—Ç—Ä–∏–º–∞–Ω–æ –∑ —Ç–µ–º–æ—é "Daily Maintenance Digest"
11. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –ª–∏—Å—Ç –º—ñ—Å—Ç–∏—Ç—å overdue tasks list

---

### –¢–µ—Å—Ç 13: Data Export
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –µ–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö

**–ö—Ä–æ–∫–∏**:
1. Login —è–∫ admin@example.com
2. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /printers
3. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Export JSON" (–∞–±–æ –∑–Ω–∞–π—Ç–∏ link)
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Ñ–∞–π–ª printers-export.json –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
5. –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: JSON –º—ñ—Å—Ç–∏—Ç—å printers array
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: JSON –º—ñ—Å—Ç–∏—Ç—å tasks, schedules, workLogs
8. –ü–æ–≤–µ—Ä–Ω—É—Ç–∏—Å—è –Ω–∞ /printers
9. –ù–∞—Ç–∏—Å–Ω—É—Ç–∏ "Export CSV"
10. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Ñ–∞–π–ª printers-export.csv –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
11. –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª —É Excel/Numbers
12. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: CSV –º—ñ—Å—Ç–∏—Ç—å columns: name, model, location, status

---

### –¢–µ—Å—Ç 14: Responsive Design (Mobile)
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö

**–ö—Ä–æ–∫–∏**:
1. –í—ñ–¥–∫—Ä–∏—Ç–∏ DevTools ‚Üí Toggle device toolbar (Ctrl+Shift+M)
2. –í–∏–±—Ä–∞—Ç–∏ iPhone SE (375x667)
3. Login —è–∫ admin@example.com
4. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /dashboard
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: stats cards –≤ 1 –∫–æ–ª–æ–Ω–∫—É (–Ω–µ 4)
6. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: action buttons vertical stack (–Ω–µ horizontal)
7. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: printers cards –≤ 1 –∫–æ–ª–æ–Ω–∫—É
8. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /printers
9. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: —Ç–∞–±–ª–∏—Ü—è responsive (–Ω–µ overflow)
10. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: "Edit" / "Delete" –∫–Ω–æ–ø–∫–∏ accessible (–Ω–µ overlap)
11. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ /scan
12. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: video container fits screen width
13. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: –∫–Ω–æ–ø–∫–∏ "Start Scanning" / "Stop" full-width

---

### –¢–µ—Å—Ç 15: Scheduler Calculation (Interval Types)
**–ú–µ—Ç–∞**: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ —ñ–Ω—Ç–µ—Ä–≤–∞–ª—ñ–≤

**Setup**: –°—Ç–≤–æ—Ä–∏—Ç–∏ 3 –∑–∞–≤–¥–∞–Ω–Ω—è –∑ —Ä—ñ–∑–Ω–∏–º–∏ intervalType

**Test 1 - DAYS**:
1. Task: "Test Task DAYS", intervalType: "DAYS", intervalValue: 7
2. –ü—Ä–∏–≤'—è–∑–∞—Ç–∏ –¥–æ X1C-002
3. –ó–∞–ø–∏—Å–∞—Ç–∏ work log (date: today)
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: schedule.lastCompleted = today
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: schedule.nextDue = today + 7 days

**Test 2 - PRINT_HOURS**:
1. Task: "Test Task HOURS", intervalType: "PRINT_HOURS", intervalValue: 100
2. –ü—Ä–∏–≤'—è–∑–∞—Ç–∏ –¥–æ X1C-002 (current printHours: 1250)
3. –ó–∞–ø–∏—Å–∞—Ç–∏ work log (printHoursAtLog: 1250)
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: schedule.lastCompleted = today
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: schedule.nextDue –±—É–¥–µ –∫–æ–ª–∏ printer.printHours >= 1350

**Test 3 - JOB_COUNT**:
1. Task: "Test Task JOBS", intervalType: "JOB_COUNT", intervalValue: 50
2. –ü—Ä–∏–≤'—è–∑–∞—Ç–∏ –¥–æ X1C-002 (current jobsCount: 420)
3. –ó–∞–ø–∏—Å–∞—Ç–∏ work log (jobsCountAtLog: 420)
4. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: schedule.lastCompleted = today
5. **–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏**: schedule.nextDue –±—É–¥–µ –∫–æ–ª–∏ printer.jobsCount >= 470

---

## üöÄ Deployment Checklist

### 1. Environment Variables (Secrets)
- **SESSION_SECRET**: random string (required)
- **DATABASE_URL**: Replit Database connection string (auto)
- **SMTP_HOST**: email server host (optional)
- **SMTP_PORT**: email server port (optional)
- **SMTP_USER**: email username (optional)
- **SMTP_PASS**: email password (optional)
- **SMTP_FROM**: sender email (optional)

### 2. Database Setup
```bash
# Development
npx prisma migrate dev
npx tsx prisma/seed.ts

# Production
npx prisma migrate deploy
npx tsx prisma/seed.ts
```

### 3. Build and Start
```bash
npm install
npm run dev  # Development
npm start    # Production
```

### 4. Port Configuration
- **Backend**: Express server –Ω–∞ port 5000
- **Bind**: 0.0.0.0:5000 (–Ω–µ localhost)

### 5. Security
- **CSRF protection**: csurf middleware –¥–ª—è POST routes
- **Session security**: httpOnly cookies, secure (–∑–∞ HTTPS)
- **Password hashing**: bcrypt –∑ salt rounds 10
- **SQL injection protection**: Prisma prepared statements
- **XSS protection**: EJS auto-escaping (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `<%= %>`, –Ω–µ `<%- %>`)

---

## ‚úÖ Acceptance Criteria

### –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- ‚úÖ –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è —Ç–∞ —É–≤—ñ–π—Ç–∏
- ‚úÖ ADMIN –º–∞—î –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –≤—Å—ñ—Ö —Ñ—É–Ω–∫—Ü—ñ–π
- ‚úÖ OPERATOR –º–æ–∂–µ –∫–µ—Ä—É–≤–∞—Ç–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏, –∑–∞–≤–¥–∞–Ω–Ω—è–º–∏, –ª–æ–≥–∞–º–∏
- ‚úÖ VIEWER –º–∞—î read-only –¥–æ—Å—Ç—É–ø
- ‚úÖ RESTRICTED –ø—Ä–∏–Ω—Ç–µ—Ä–∏ –≤–∏–¥–∏–º—ñ —Ç—ñ–ª—å–∫–∏ –≤–∏–±—Ä–∞–Ω–∏–º –≥—Ä—É–ø–∞–º
- ‚úÖ Work log –æ–Ω–æ–≤–ª—é—î –≥—Ä–∞—Ñ—ñ–∫–∏ –∑–∞–≤–¥–∞–Ω—å
- ‚úÖ Task Board –ø–æ–∫–∞–∑—É—î overdue/today/upcoming –∑–∞–≤–¥–∞–Ω–Ω—è
- ‚úÖ QR —Å–∫–∞–Ω–µ—Ä –ø—Ä–∞—Ü—é—î –∑ –∫–∞–º–µ—Ä–æ—é —Ç–∞ redirect –¥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ Email digest –Ω–∞–¥—Å–∏–ª–∞—î—Ç—å—Å—è —â–æ–¥–Ω—è –æ 9:00 AM
- ‚úÖ Flash messages –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è –ø—ñ—Å–ª—è –æ–ø–µ—Ä–∞—Ü—ñ–π
- ‚úÖ –¢–µ–º–∞ dark/light –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ localStorage
- ‚úÖ –ú–æ–≤–∞ ua/en –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ cookie —Ç–∞ –ø—Ä–∞—Ü—é—î –Ω–∞ –≤—Å—ñ—Ö —Å—Ç–æ—Ä—ñ–Ω–∫–∞—Ö

### UI/UX
- ‚úÖ Responsive design –¥–ª—è mobile/tablet/desktop
- ‚úÖ –í—Å—ñ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –º–∞—é—Ç—å data-testid
- ‚úÖ Flash messages –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–Ω–∏–∫–∞—é—Ç—å —á–µ—Ä–µ–∑ 5 —Å–µ–∫
- ‚úÖ Status colors: —á–µ—Ä–≤–æ–Ω–∏–π (overdue), –ø–æ–º–∞—Ä–∞–Ω—á–µ–≤–∏–π (today), –∑–µ–ª–µ–Ω–∏–π (upcoming)
- ‚úÖ Navigation –∑ theme/language toggles —Ç–∞ user dropdown
- ‚úÖ Empty states –∑ helpful messages

### –ë–µ–∑–ø–µ–∫–∞
- ‚úÖ –í—Å—ñ routes –∑ authentication (requireAuth middleware)
- ‚úÖ Authorization –∑–∞ —Ä–æ–ª—è–º–∏ (requireRole middleware)
- ‚úÖ CSRF protection –Ω–∞ –≤—Å—ñ—Ö POST routes
- ‚úÖ Password hashing –∑ bcrypt
- ‚úÖ Error handling –∑ try-catch –±–ª–æ–∫–∞–º–∏ (–Ω–µ 500 errors)
- ‚úÖ Session expiration —Ç–∞ secure cookies

### –ü—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- ‚úÖ Database queries –æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ (include relations)
- ‚úÖ PicoCSS —á–µ—Ä–µ–∑ CDN (–Ω–µ bundled)
- ‚úÖ @zxing/library —á–µ—Ä–µ–∑ CDN esm (–Ω–µ bundled)
- ‚úÖ Static assets –≤ public/ folder

---

## üìù –í–∞–∂–ª–∏–≤—ñ –Ω–æ—Ç–∞—Ç–∫–∏ –¥–ª—è —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó

1. **Error Handling**: –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ try-catch –≤ async route handlers
2. **Flash Messages**: –í–∫–ª—é—á–∞–π—Ç–µ `<%- include('../partials/flash-messages') %>` –≤ —É—Å—ñ –æ—Å–Ω–æ–≤–Ω—ñ pages
3. **CSRF Token**: –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ data-csrf attribute –∞–±–æ hidden input
4. **i18n**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `<%= __('key') %>` –∑–∞–º—ñ—Å—Ç—å hardcoded —Ç–µ–∫—Å—Ç—ñ–≤
5. **data-testid**: –î–æ–¥–∞–≤–∞–π—Ç–µ –¥–æ –≤—Å—ñ—Ö buttons, inputs, links, text elements
6. **Group Visibility**: –ü–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ PrinterGroupAccess –¥–ª—è RESTRICTED –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤
7. **Scheduler Logic**: –†—ñ–∑–Ω–∞ –ª–æ–≥—ñ–∫–∞ nextDue –¥–ª—è DAYS/PRINT_HOURS/JOB_COUNT
8. **Priority Validation**: Clamp priority –¥–æ 1-10 range
9. **Theme/Language**: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É–π—Ç–µ –∑ localStorage/cookie –ø—Ä–∏ page load
10. **Session Management**: –ó–±–µ—Ä—ñ–≥–∞–π—Ç–µ userId, email, name, role –≤ session

---

## üé¨ –ü—Ä–æ–º–ø—Ç –¥–ª—è Replit Agent

```
–°—Ç–≤–æ—Ä–∏ –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ "3D Printer Care" –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è–º 3D-–ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤.

–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó:
- Node.js + Express + TypeScript + EJS templates
- PostgreSQL (Replit Database) –∑ Prisma ORM
- PicoCSS –¥–ª—è styling
- express-session + bcrypt –¥–ª—è auth
- i18n (—É–∫—Ä–∞—ó–Ω—Å—å–∫–∞ —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–∞)
- node-cron –¥–ª—è scheduled tasks
- qrcode + @zxing/library –¥–ª—è QR codes
- nodemailer –¥–ª—è email

–û—Å–Ω–æ–≤–Ω—ñ features:
1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è (register/login) –∑ 3 —Ä–æ–ª—è–º–∏: ADMIN, OPERATOR, VIEWER
2. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞–º–∏ (CRUD, visibility: PUBLIC/RESTRICTED, group-based access)
3. –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –∑–∞–≤–¥–∞–Ω—å –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ (1-10)
4. –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –≥—Ä–∞—Ñ—ñ–∫–∏ –∑–∞–≤–¥–∞–Ω—å (—ñ–Ω—Ç–µ—Ä–≤–∞–ª–∏: DAYS, PRINT_HOURS, JOB_COUNT)
5. –ñ—É—Ä–Ω–∞–ª–∏ —Ä–æ–±—ñ—Ç –∑ –∞–≤—Ç–æ–æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º –≥—Ä–∞—Ñ—ñ–∫—ñ–≤
6. Dashboard –∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ—é (Overdue/Today/Upcoming)
7. Task Board –∑ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é
8. QR Scanner –∑ –∫–∞–º–µ—Ä–æ—é (@zxing/library)
9. Email digest notifications (—â–æ–¥–Ω—è –æ 9:00 AM)
10. Settings (categories, users, groups) - —Ç—ñ–ª—å–∫–∏ ADMIN
11. Flash messages system (success/error/info)
12. Dark/Light theme toggle –∑ localStorage
13. –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å (ua/en) –∑ cookie persistence
14. Responsive design (mobile/tablet/desktop)

–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (Prisma schema): User, UserGroup, TaskCategory, Printer, PrinterGroupAccess, PrinterEmailRecipient, MaintenanceTask, PrinterTaskSchedule, WorkLog, Notification.

–¢–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ:
- 4 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ (admin/technician/operator/viewer, –≤—Å—ñ –∑ –ø–∞—Ä–æ–ª–µ–º admin123)
- 4 –≥—Ä—É–ø–∏ (–ê–¥–º—ñ–Ω, –¢–µ—Ö–Ω—ñ–∫, –û–ø–µ—Ä–∞—Ç–æ—Ä, –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á)
- 5 –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∑–∞–≤–¥–∞–Ω—å
- 2 –ø—Ä–∏–Ω—Ç–µ—Ä–∏ (X1C-002 PUBLIC, A1-001 RESTRICTED)
- 9 –∑–∞–≤–¥–∞–Ω—å –æ–±—Å–ª—É–≥–æ–≤—É–≤–∞–Ω–Ω—è –∑ —Ä—ñ–∑–Ω–∏–º–∏ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- –ì—Ä–∞—Ñ—ñ–∫–∏ –∑–∞–≤–¥–∞–Ω—å –¥–ª—è –æ–±–æ—Ö –ø—Ä–∏–Ω—Ç–µ—Ä—ñ–≤

–î–µ—Ç–∞–ª—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ —Ç–∞ –ø–æ–≤–Ω—É —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é –¥–∏–≤. —É –¥–æ–∫—É–º–µ–Ω—Ç—ñ –≤–∏—â–µ.

–°—Ç–≤–æ—Ä–∏ production-ready –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑ –ø–æ–≤–Ω–æ—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—é, error handling, i18n, responsive design —Ç–∞ data-testid attributes –¥–ª—è testing.
```

---

–£—Å–ø—ñ—Ö—ñ–≤ —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É! üöÄ
